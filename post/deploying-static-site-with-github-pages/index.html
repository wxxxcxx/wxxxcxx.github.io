<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>使用 Github Pages 部署静态网站 | Wx</title><meta name=keywords content="Github,Github Pages,HTTPS"><meta name=description content="之前网站部署在阿里云香港的 VPS 上，最近发现某些网络环境下HTTPS打不开网站，开始还以为是 GFW 的问题。但是测试发现 4G 网络访问正常，HTTP 也能正常访问。搜索了一番发现了很多相似的情况。问题是 SSL ClientHello 包无法获得响应导致的。使用 Wrieshick 抓包的结果也证实了这一点。这个锅先甩给运营商吧。
目前还不知道更换证书或更换 VPS 能不能解决这个问题（感觉即使能解决也不是持久之计，有条件的同学还是备案用境内的 VPS ）。
由于域名转入备案太麻烦，而且正巧发现 Github Pages 对自定义域名支持 HTTPS 了，所以决定吧网站迁移到 Github Pages 上。
迁移文件 选择站点类型 GitHub Pages 站点的静态文件都保存在 Repository 中。GitHub Pages 提供了 User or organization site 和 Project site 两种方式托管静态文件。
两种方式基本没有什么区别。由于我要部署的是个人博客，因此我选择使用 User or organization site。
顺带说一句，GitHub Pages 是支持 Jekyll 模版语法。所以可以通过 Jekyll 来“动态”生成网站。
创建&配置Repository 首先需要创建一个以 username.GitHub.io 命名的 Repository。注意替换 username为你的用户名。
创建好 Repository 后按正常的提交代码的流程将站点文件提交到 master 分支。
如果操作正确而且如果你不需要绑定域名的话，现在你就可以通过访问 username.github.io 访问你的网站了。"><meta name=author content="Wx"><link rel=canonical href=https://wxxxcxx.com/post/deploying-static-site-with-github-pages/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wxxxcxx.com/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://wxxxcxx.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://wxxxcxx.com/favicon-32x32.png><link rel=apple-touch-icon href=https://wxxxcxx.com/apple-touch-icon.png><link rel=mask-icon href=https://wxxxcxx.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-Z7943VGHS9"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Z7943VGHS9",{anonymize_ip:!1})}</script><meta property="og:title" content="使用 Github Pages 部署静态网站"><meta property="og:description" content="之前网站部署在阿里云香港的 VPS 上，最近发现某些网络环境下HTTPS打不开网站，开始还以为是 GFW 的问题。但是测试发现 4G 网络访问正常，HTTP 也能正常访问。搜索了一番发现了很多相似的情况。问题是 SSL ClientHello 包无法获得响应导致的。使用 Wrieshick 抓包的结果也证实了这一点。这个锅先甩给运营商吧。
目前还不知道更换证书或更换 VPS 能不能解决这个问题（感觉即使能解决也不是持久之计，有条件的同学还是备案用境内的 VPS ）。
由于域名转入备案太麻烦，而且正巧发现 Github Pages 对自定义域名支持 HTTPS 了，所以决定吧网站迁移到 Github Pages 上。
迁移文件 选择站点类型 GitHub Pages 站点的静态文件都保存在 Repository 中。GitHub Pages 提供了 User or organization site 和 Project site 两种方式托管静态文件。
两种方式基本没有什么区别。由于我要部署的是个人博客，因此我选择使用 User or organization site。
顺带说一句，GitHub Pages 是支持 Jekyll 模版语法。所以可以通过 Jekyll 来“动态”生成网站。
创建&配置Repository 首先需要创建一个以 username.GitHub.io 命名的 Repository。注意替换 username为你的用户名。
创建好 Repository 后按正常的提交代码的流程将站点文件提交到 master 分支。
如果操作正确而且如果你不需要绑定域名的话，现在你就可以通过访问 username.github.io 访问你的网站了。"><meta property="og:type" content="article"><meta property="og:url" content="https://wxxxcxx.com/post/deploying-static-site-with-github-pages/"><meta property="article:section" content="post"><meta property="article:published_time" content="2018-11-05T11:44:15+08:00"><meta property="article:modified_time" content="2018-11-05T11:44:15+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="使用 Github Pages 部署静态网站"><meta name=twitter:description content="之前网站部署在阿里云香港的 VPS 上，最近发现某些网络环境下HTTPS打不开网站，开始还以为是 GFW 的问题。但是测试发现 4G 网络访问正常，HTTP 也能正常访问。搜索了一番发现了很多相似的情况。问题是 SSL ClientHello 包无法获得响应导致的。使用 Wrieshick 抓包的结果也证实了这一点。这个锅先甩给运营商吧。
目前还不知道更换证书或更换 VPS 能不能解决这个问题（感觉即使能解决也不是持久之计，有条件的同学还是备案用境内的 VPS ）。
由于域名转入备案太麻烦，而且正巧发现 Github Pages 对自定义域名支持 HTTPS 了，所以决定吧网站迁移到 Github Pages 上。
迁移文件 选择站点类型 GitHub Pages 站点的静态文件都保存在 Repository 中。GitHub Pages 提供了 User or organization site 和 Project site 两种方式托管静态文件。
两种方式基本没有什么区别。由于我要部署的是个人博客，因此我选择使用 User or organization site。
顺带说一句，GitHub Pages 是支持 Jekyll 模版语法。所以可以通过 Jekyll 来“动态”生成网站。
创建&配置Repository 首先需要创建一个以 username.GitHub.io 命名的 Repository。注意替换 username为你的用户名。
创建好 Repository 后按正常的提交代码的流程将站点文件提交到 master 分支。
如果操作正确而且如果你不需要绑定域名的话，现在你就可以通过访问 username.github.io 访问你的网站了。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wxxxcxx.com/post/"},{"@type":"ListItem","position":2,"name":"使用 Github Pages 部署静态网站","item":"https://wxxxcxx.com/post/deploying-static-site-with-github-pages/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"使用 Github Pages 部署静态网站","name":"使用 Github Pages 部署静态网站","description":"之前网站部署在阿里云香港的 VPS 上，最近发现某些网络环境下HTTPS打不开网站，开始还以为是 GFW 的问题。但是测试发现 4G 网络访问正常，HTTP 也能正常访问。搜索了一番发现了很多相似的情况。问题是 SSL ClientHello 包无法获得响应导致的。使用 Wrieshick 抓包的结果也证实了这一点。这个锅先甩给运营商吧。\n目前还不知道更换证书或更换 VPS 能不能解决这个问题（感觉即使能解决也不是持久之计，有条件的同学还是备案用境内的 VPS ）。\n由于域名转入备案太麻烦，而且正巧发现 Github Pages 对自定义域名支持 HTTPS 了，所以决定吧网站迁移到 Github Pages 上。\n迁移文件 选择站点类型 GitHub Pages 站点的静态文件都保存在 Repository 中。GitHub Pages 提供了 User or organization site 和 Project site 两种方式托管静态文件。\n两种方式基本没有什么区别。由于我要部署的是个人博客，因此我选择使用 User or organization site。\n顺带说一句，GitHub Pages 是支持 Jekyll 模版语法。所以可以通过 Jekyll 来“动态”生成网站。\n创建\u0026amp;配置Repository 首先需要创建一个以 username.GitHub.io 命名的 Repository。注意替换 username为你的用户名。\n创建好 Repository 后按正常的提交代码的流程将站点文件提交到 master 分支。\n如果操作正确而且如果你不需要绑定域名的话，现在你就可以通过访问 username.github.io 访问你的网站了。","keywords":["Github","Github Pages","HTTPS"],"articleBody":"之前网站部署在阿里云香港的 VPS 上，最近发现某些网络环境下HTTPS打不开网站，开始还以为是 GFW 的问题。但是测试发现 4G 网络访问正常，HTTP 也能正常访问。搜索了一番发现了很多相似的情况。问题是 SSL ClientHello 包无法获得响应导致的。使用 Wrieshick 抓包的结果也证实了这一点。这个锅先甩给运营商吧。\n目前还不知道更换证书或更换 VPS 能不能解决这个问题（感觉即使能解决也不是持久之计，有条件的同学还是备案用境内的 VPS ）。\n由于域名转入备案太麻烦，而且正巧发现 Github Pages 对自定义域名支持 HTTPS 了，所以决定吧网站迁移到 Github Pages 上。\n迁移文件 选择站点类型 GitHub Pages 站点的静态文件都保存在 Repository 中。GitHub Pages 提供了 User or organization site 和 Project site 两种方式托管静态文件。\n两种方式基本没有什么区别。由于我要部署的是个人博客，因此我选择使用 User or organization site。\n顺带说一句，GitHub Pages 是支持 Jekyll 模版语法。所以可以通过 Jekyll 来“动态”生成网站。\n创建\u0026配置Repository 首先需要创建一个以 username.GitHub.io 命名的 Repository。注意替换 username为你的用户名。\n创建好 Repository 后按正常的提交代码的流程将站点文件提交到 master 分支。\n如果操作正确而且如果你不需要绑定域名的话，现在你就可以通过访问 username.github.io 访问你的网站了。\n绑定域名\u0026开启 HTTPS 首先在 Repository -\u003e Settings -\u003e GitHub Pages -\u003e Custom domain 中填写需要绑定的域名。\n下面开始解析域名 CNAME 和 A 记录二选一即可。\n添加 CNAME 添加一条 CNAME 记录到 username.github.io 即可。\n使用一下命令查看效果：\n$ dig mydomain.com +noall +answer mydomain.com\t3600\tIN A\tXXX.XXX.XXX.XXX $ dig username.github.io +noall +answer username.github.io\t3600\tIN A\tXXX.XXX.XXX.XXX XXX.XXX.XXX.XXX 为服务器 IP，两个命令的 IP 如果一致的话，说明已经生效了。\n添加 A 记录 在域名的 DNS 设置中添加 4 条 A 记录分别对印到：\n185.199.108.153 185.199.109.153 185.199.110.153 185.199.111.153 如果生效了的话，使用 dig命令应该可以看到 4 条和上面 IP 对印的结果。\n最后需要确保 Repository -\u003e Settings -\u003e GitHub Pages -\u003e Custom domain 中的 Enforce HTTPS 是勾选状态。\n最后，访问 https://mydomain.com 应该可以看到绿色的小锁了。\nTips 注意上文中出现的 username 全部需要替换为也登陆使用的用户名。 GitHub Pages 支持一个站点同时绑定顶级域名和 www 子域名，但是据文档所说每个站点只能绑定一个非 www 的子域名。 如果之前域名有解析到其他位置的话，在进行操作之前可以先将域名的 TTL 设置短一点，方便修改解析后快速生效。 ","wordCount":"172","inLanguage":"en","datePublished":"2018-11-05T11:44:15+08:00","dateModified":"2018-11-05T11:44:15+08:00","author":{"@type":"Person","name":"Wx"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wxxxcxx.com/post/deploying-static-site-with-github-pages/"},"publisher":{"@type":"Organization","name":"Wx","logo":{"@type":"ImageObject","url":"https://wxxxcxx.com/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wxxxcxx.com/ accesskey=h title="Wx (Alt + H)">Wx</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wxxxcxx.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://wxxxcxx.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://wxxxcxx.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://github.com/wxxxcxx title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>使用 Github Pages 部署静态网站</h1><div class=post-meta><span title='2018-11-05 11:44:15 +0800 +0800'>November 5, 2018</span>&nbsp;·&nbsp;Wx</div></header><div class=post-content><p>之前网站部署在阿里云香港的 VPS 上，最近发现某些网络环境下HTTPS打不开网站，开始还以为是 GFW 的问题。但是测试发现 4G 网络访问正常，HTTP 也能正常访问。搜索了一番发现了很多相似的情况。问题是 SSL ClientHello 包无法获得响应导致的。使用 Wrieshick 抓包的结果也证实了这一点。这个锅先甩给运营商吧。</p><p>目前还不知道更换证书或更换 VPS 能不能解决这个问题（感觉即使能解决也不是持久之计，有条件的同学还是备案用境内的 VPS ）。</p><p>由于域名转入备案太麻烦，而且正巧发现 Github Pages 对自定义域名支持 HTTPS 了，所以决定吧网站迁移到 Github Pages 上。</p><h2 id=迁移文件>迁移文件<a hidden class=anchor aria-hidden=true href=#迁移文件>#</a></h2><h3 id=选择站点类型>选择站点类型<a hidden class=anchor aria-hidden=true href=#选择站点类型>#</a></h3><p>GitHub Pages 站点的静态文件都保存在 Repository 中。GitHub Pages 提供了 User or organization site 和 Project site 两种方式托管静态文件。</p><p>两种方式基本没有什么区别。由于我要部署的是个人博客，因此我选择使用 User or organization site。</p><p>顺带说一句，GitHub Pages 是支持 Jekyll 模版语法。所以可以通过 Jekyll 来“动态”生成网站。</p><h3 id=创建配置repository>创建&配置Repository<a hidden class=anchor aria-hidden=true href=#创建配置repository>#</a></h3><p>首先需要创建一个以 username.GitHub.io 命名的 Repository。<strong>注意替换 <code>username</code>为你的用户名</strong>。</p><p>创建好 Repository 后按正常的提交代码的流程将站点文件提交到 master 分支。</p><p>如果操作正确而且如果你不需要绑定域名的话，现在你就可以通过访问 username.github.io 访问你的网站了。</p><h3 id=绑定域名开启-https>绑定域名&开启 HTTPS<a hidden class=anchor aria-hidden=true href=#绑定域名开启-https>#</a></h3><p>首先在 Repository -> Settings -> GitHub Pages -> Custom domain 中填写需要绑定的域名。</p><p>下面开始解析域名 CNAME 和 A 记录二选一即可。</p><h4 id=添加-cname>添加 CNAME<a hidden class=anchor aria-hidden=true href=#添加-cname>#</a></h4><p>添加一条 CNAME 记录到 username.github.io 即可。</p><p>使用一下命令查看效果：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ dig mydomain.com +noall +answer
</span></span><span class=line><span class=cl>  mydomain.com	3600	IN A	XXX.XXX.XXX.XXX
</span></span><span class=line><span class=cl>$ dig username.github.io +noall +answer
</span></span><span class=line><span class=cl>  username.github.io	3600	IN A	XXX.XXX.XXX.XXX
</span></span></code></pre></div><p>XXX.XXX.XXX.XXX 为服务器 IP，两个命令的 IP 如果一致的话，说明已经生效了。</p><h4 id=添加-a-记录>添加 A 记录<a hidden class=anchor aria-hidden=true href=#添加-a-记录>#</a></h4><p>在域名的 DNS 设置中添加 4 条 A 记录分别对印到：</p><ul><li>185.199.108.153</li><li>185.199.109.153</li><li>185.199.110.153</li><li>185.199.111.153</li></ul><p>如果生效了的话，使用 <code>dig</code>命令应该可以看到 4 条和上面 IP 对印的结果。</p><p>最后需要确保 Repository -> Settings -> GitHub Pages -> Custom domain 中的 Enforce HTTPS 是勾选状态。</p><p>最后，访问 <a href=https://mydomain.com>https://mydomain.com</a> 应该可以看到绿色的小锁了。</p><h2 id=tips>Tips<a hidden class=anchor aria-hidden=true href=#tips>#</a></h2><ul><li>注意上文中出现的 username 全部需要替换为也登陆使用的用户名。</li><li>GitHub Pages 支持一个站点同时绑定顶级域名和 www 子域名，但是据文档所说每个站点只能绑定一个非 www 的子域名。</li><li>如果之前域名有解析到其他位置的话，在进行操作之前可以先将域名的 TTL 设置短一点，方便修改解析后快速生效。</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://wxxxcxx.com/tags/github/>Github</a></li><li><a href=https://wxxxcxx.com/tags/github-pages/>Github Pages</a></li><li><a href=https://wxxxcxx.com/tags/https/>HTTPS</a></li></ul></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>